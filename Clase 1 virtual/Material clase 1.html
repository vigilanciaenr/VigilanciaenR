<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Material para clase 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Material clase 1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Material clase 1_files/libs/quarto-html/quarto.js"></script>
<script src="Material clase 1_files/libs/quarto-html/popper.min.js"></script>
<script src="Material clase 1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Material clase 1_files/libs/quarto-html/anchor.min.js"></script>
<link href="Material clase 1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Material clase 1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Material clase 1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Material clase 1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Material clase 1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Índice de Contenidos</h2>
   
  <ul>
  <li><a href="#introducción-a-r-y-rstudio" id="toc-introducción-a-r-y-rstudio" class="nav-link active" data-scroll-target="#introducción-a-r-y-rstudio">Introducción a R y Rstudio</a>
  <ul class="collapse">
  <li><a href="#beneficios-de-r-studio" id="toc-beneficios-de-r-studio" class="nav-link" data-scroll-target="#beneficios-de-r-studio">Beneficios de R Studio:</a></li>
  <li><a href="#rutas-de-archivos-en-r" id="toc-rutas-de-archivos-en-r" class="nav-link" data-scroll-target="#rutas-de-archivos-en-r">Rutas de archivos en R</a></li>
  </ul></li>
  <li><a href="#operaciones-basicas-en-r" id="toc-operaciones-basicas-en-r" class="nav-link" data-scroll-target="#operaciones-basicas-en-r">Operaciones básicas en R</a>
  <ul class="collapse">
  <li><a href="#precedencia-de-los-opeadores" id="toc-precedencia-de-los-opeadores" class="nav-link" data-scroll-target="#precedencia-de-los-opeadores">Precedencia de los opeadores</a></li>
  <li><a href="#operadores-de-comparacion-en-r" id="toc-operadores-de-comparacion-en-r" class="nav-link" data-scroll-target="#operadores-de-comparacion-en-r">Operadores de Comparación en R</a></li>
  <li><a href="#operadores-logicos-en-r" id="toc-operadores-logicos-en-r" class="nav-link" data-scroll-target="#operadores-logicos-en-r">Operadores Lógicos en R</a></li>
  </ul></li>
  <li><a href="#objetos-en-r" id="toc-objetos-en-r" class="nav-link" data-scroll-target="#objetos-en-r">Objetos en R</a>
  <ul class="collapse">
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables">Variables</a></li>
  <li><a href="#vectores" id="toc-vectores" class="nav-link" data-scroll-target="#vectores">Vectores</a>
  <ul class="collapse">
  <li><a href="#operaciones-básicas-con-vectores" id="toc-operaciones-básicas-con-vectores" class="nav-link" data-scroll-target="#operaciones-básicas-con-vectores">Operaciones básicas con vectores</a></li>
  <li><a href="#tipos-de-vectores" id="toc-tipos-de-vectores" class="nav-link" data-scroll-target="#tipos-de-vectores">Tipos de vectores</a></li>
  </ul></li>
  <li><a href="#factores" id="toc-factores" class="nav-link" data-scroll-target="#factores">Factores</a></li>
  <li><a href="#data-frames-o-marco-de-datos" id="toc-data-frames-o-marco-de-datos" class="nav-link" data-scroll-target="#data-frames-o-marco-de-datos">Data Frames o Marco de datos</a></li>
  <li><a href="#funciones" id="toc-funciones" class="nav-link" data-scroll-target="#funciones">Funciones</a></li>
  </ul></li>
  <li><a href="#instalacion-de-paquetes" id="toc-instalacion-de-paquetes" class="nav-link" data-scroll-target="#instalacion-de-paquetes">Instalación de paquetes</a>
  <ul class="collapse">
  <li><a href="#tidyverse" id="toc-tidyverse" class="nav-link" data-scroll-target="#tidyverse">Tidyverse</a></li>
  <li><a href="#data.table" id="toc-data.table" class="nav-link" data-scroll-target="#data.table">data.table</a></li>
  <li><a href="#lubridate" id="toc-lubridate" class="nav-link" data-scroll-target="#lubridate">lubridate</a></li>
  <li><a href="#stringr" id="toc-stringr" class="nav-link" data-scroll-target="#stringr">stringr</a></li>
  <li><a href="#readxl-y-writexl" id="toc-readxl-y-writexl" class="nav-link" data-scroll-target="#readxl-y-writexl">readxl y writexl</a></li>
  <li><a href="#googlesheets4" id="toc-googlesheets4" class="nav-link" data-scroll-target="#googlesheets4">googlesheets4</a></li>
  <li><a href="#ggplot2" id="toc-ggplot2" class="nav-link" data-scroll-target="#ggplot2">ggplot2</a></li>
  <li><a href="#librerias" id="toc-librerias" class="nav-link" data-scroll-target="#librerias">Librerias</a></li>
  </ul></li>
  <li><a href="#data-frame-y-tibble" id="toc-data-frame-y-tibble" class="nav-link" data-scroll-target="#data-frame-y-tibble">Data Frame y Tibble</a>
  <ul class="collapse">
  <li><a href="#tibbles" id="toc-tibbles" class="nav-link" data-scroll-target="#tibbles">tibbles</a></li>
  <li><a href="#datos-faltantes" id="toc-datos-faltantes" class="nav-link" data-scroll-target="#datos-faltantes">Datos faltantes</a></li>
  </ul></li>
  <li><a href="#uso-de-tuberías" id="toc-uso-de-tuberías" class="nav-link" data-scroll-target="#uso-de-tuberías">Uso de tuberías</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Material para clase 1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introducción-a-r-y-rstudio" class="level1">
<h1>Introducción a R y Rstudio</h1>
<p>R es un lenguaje de programación estadístico de código abierto que se creó en la década de 1990 específicamente para el análisis de datos. R es un lenguaje y entorno de software para estadísticas y gráficos. R Studio proporciona una interfaz amigable para trabajar con R, facilitando la escritura, depuración y ejecución de código, además de ofrecer herramientas adicionales para la visualización de datos y la generación de informes.</p>
<section id="beneficios-de-r-studio" class="level3">
<h3 class="anchored" data-anchor-id="beneficios-de-r-studio">Beneficios de R Studio:</h3>
<p>Interfaz gráfica amigable: R Studio tiene una interfaz de usuario intuitiva que facilita la escritura y ejecución de código R.</p>
<p>Herramientas integradas: Ofrece herramientas integradas para la visualización de datos, depuración de código, y la creación de informes reproducibles.</p>
<p>Soporte para Shiny: Permite desarrollar aplicaciones interactivas basadas en R con Shiny. Integración con Git: Facilita el control de versiones y colaboración en proyectos. Amplia comunidad y documentación: R Studio es respaldado por una comunidad activa y cuenta con una amplia documentación.</p>
</section>
<section id="rutas-de-archivos-en-r" class="level2">
<h2 class="anchored" data-anchor-id="rutas-de-archivos-en-r">Rutas de archivos en R</h2>
<p>Antes de empezar a trabajar siempre es conveneinte observar cual es el directorio (espacio físico en el disco rígido) que R tiene definido. Para conocer este directorio podemo ejecutar la siguiente linea de comando:</p>
<p><code>{r} # Con esta línea de código se visualiza el lugar donde se encuentran el directorio donde R trabaja en tu computadora  getwd()}</code></p>
<p>Esta carpeta es el lugar donde R va a leer y escribir datos por defecto, salvo que le indiquemos lo contrario. Osea que si le damos una orden de escribir algún objeto R lo va a realizar en este lugar.</p>
<p>Para definir de acuerdo nuestra comodidad el espacio donde queremos que lea y guarde los objetos que vamos creando y guardando podemos emplear la funcion setwd() y entre los paréntesis indicar la ruta completa del directorio que preferimos.</p>
<p><code>{r}  # setwd("C:/Users/Desktop/Vigilancia en R/Ejercicios")}</code></p>
<p>Observar que las barras que delimitan subdirectorios son / o \. Nunca usar solo la . Ya que en R en Window es necesario esto.</p>
<p>Una vez definido este directorio R va a escribir y leer por defecto en este lugar.</p>
</section>
</section>
<section id="operaciones-basicas-en-r" class="level1">
<h1>Operaciones básicas en R</h1>
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section"></h4>
<p>Operadores Matemáticos en R Se puede usar R como una calculadora</p>
<ul>
<li>Suma: +</li>
<li>Resta: -</li>
<li>Multiplicación: *</li>
<li>División: /</li>
<li>Módulo (Residuo): %%</li>
</ul>
<p><code>{r}  suma &lt;-3+5  #Sumamos 3-2   #restamos 3/2   #dividimos 3*2   #multiplicamos 3^2   #elevamos al cuadrado 3**2  #elevamos al cuadrado 9%%4  #operador resto}</code></p>
</section>
<section id="precedencia-de-los-opeadores" class="level3">
<h3 class="anchored" data-anchor-id="precedencia-de-los-opeadores">Precedencia de los opeadores</h3>
<p>Como toda operación matemática, existe una precedencia de los operadores, esto quiere decir que en una ecuación que involucra muchos operadores unos tienen prioridad de resolución.</p>
<p>El orden de resolución esta definido por</p>
<ul>
<li>() primero se resuelven los paréntesis</li>
<li>** luego se resuelven la potencias</li>
<li>(* o /) después las multiplicaciones o divisiones</li>
<li>(+ o -) por último las sumas y restas</li>
</ul>
<p><code>{r} #Precedencia de los operadores #Paréntesis #potencias #multiplicación #suma  3+2*5  (3+2)*5  2/8**2}</code></p>
</section>
<section id="operadores-de-comparacion-en-r" class="level3">
<h3 class="anchored" data-anchor-id="operadores-de-comparacion-en-r">Operadores de Comparación en R</h3>
<p>Igualdad: ==</p>
<p>Desigualdad: !=</p>
<p>Mayor que: &gt;</p>
<p>Menor que: &lt;</p>
<p>Mayor o igual que: &gt;=</p>
<p>Menor o igual que: &lt;=</p>
</section>
<section id="operadores-logicos-en-r" class="level3">
<h3 class="anchored" data-anchor-id="operadores-logicos-en-r">Operadores Lógicos en R</h3>
<p>AND Lógico: &amp; o &amp;&amp;</p>
<p>OR Lógico: | o ||</p>
<p>NOT Lógico: !</p>
</section>
</section>
<section id="objetos-en-r" class="level1">
<h1>Objetos en R</h1>
<p>Todos los lenguajes de programación necesitan almacenar información para poder luego usarla. En R toda información se guarda en objetos y disponemos de varios tipos, los más empleados son:</p>
<ul>
<li>Variables</li>
<li>Vectores</li>
<li>Listas</li>
<li>Factores</li>
<li>Matrices</li>
<li>Data frames</li>
</ul>
<p>Veremos sobre todo algunos de ellos para pasar a ver como se utilizan en las funciones.</p>
<section id="variables" class="level2">
<h2 class="anchored" data-anchor-id="variables">Variables</h2>
<p>Una variable en programación es un espacio de almacenamiento con un nombre simbólico (un identificador) que se refiere o está asociado a un valor o información almacenada.</p>
<p>Se pueden pensar como cajas que tiene una etiqueta que es el nombre de la variable. Dentro de la caja podemos guardar diferentes tipos de datos, como números, texto, booleanos, entre otros.</p>
<p><code>{r} # Ejercicio 1: Crear una variable llamada 'edad' y asignarle el valor 25 edad &lt;- 25  # Imprimir el valor de la variable 'edad' print(edad)}</code></p>
<p>También si queremos acceder al valor de esa variable podemos hacerlo simplemente escribiendo el nombre de esa variable.</p>
<p><code>{r} edad}</code></p>
<p>Tipos de variables que se pueden generar</p>
<ul>
<li>Numeric: incluyen números</li>
<li>Character: son variables que almacenan cadena de texto</li>
<li>Logical: almacenan un valor Verdadero (TRUE) o falso (FALSE). Es a menudo el resultado de operaciones lógicas</li>
<li>Date: guardan una cadena de texto que R interpreta como una fecha</li>
</ul>
<p><code>{r} # Generamos distintos tipos de variables  a &lt;- 10 #creamos una variable numérica A &lt;- "meses" #Creamos una variable de caracteres b &lt;- TRUE #Creamos una variable lógica (FALSE) c &lt;- Sys.Date() #Creamos una variable Fecha (tomamos la fecha del ordenador con la función Sys.Date())  ls() #Observamos todas las variables que se encuentran en la memoria de R}</code></p>
<p><code>{r} #Investigamos la estructura de los objetos creados con la función str()  str(a) str(A) str(b) str(c)  #Investigamos el tipo de variable los objetos creados con la función class() class(a) class(A)}</code></p>
<p>Las variables pueden utilizarse en operaciones matemáticas y lógicas en R.</p>
<p><code>{r}  # Ejercicio 4: Calcular el área de un rectángulo longitud &lt;- 5 ancho &lt;- 3  # Calcular el área utilizando las variables area &lt;- longitud * ancho  # Imprimir el resultado print(paste("El área del rectángulo es:", area))}</code></p>
<p>Aquí arriba el “paste” concatena la linea de caracteres “El área del rectángulo es:” con el valor del cálculo del área. Y “print” lo impirme para que podamos verlo.</p>
</section>
<section id="vectores" class="level2">
<h2 class="anchored" data-anchor-id="vectores">Vectores</h2>
<p>Un vector es un grupo elementos ordenados, todos deben ser del mismo tipo (todos números o todos caracteres por ejemplo). La forma más simple de crear un vector es usando la función c() y separando por comas a los elementos que lo forman:</p>
<p><code>{r}  #El objeto vector  a &lt;- c(1,2,3,4) #creamos un vector de 4 elementos  c &lt;- c(a, 7,8,9)#creamos un vector uniendo uno que ya existe (esto paso cuando asignamos variables en las lineas de arriba) con un número nuevo  a c}</code></p>
<p>Tambien se pueden pegar vectores</p>
<p><code>{r}  #Concatenar dos vectores  a&lt;-c(1,2,6) #creamos un vector b&lt;-c(4,5) #creamos otro vector c &lt;- c(a,b)#concatenamos ambos vectores  a b c}</code></p>
<p><code>{r} #El objeto vector  a &lt;- c(1,2,3,4) #creamos un vector de 4 elementos  b &lt;- seq(from=1,to=100, by=2) #generamos una secuencia (ayuda de la función con ?seq)  c &lt;- c(b, 7,8,9) #creamos un vector uniendo uno que ya existe con un número nuevo  a b c}</code></p>
<p>Lo que hicimos arriba con el vector b es generar una secuencia a partir de una funcion (m{as adelante nos detendremos en las funciones. Existen muchas funciones que crean vectores automáticamente. Por ejemplo la función seq() que genera una secuencia.</p>
<ul>
<li>from: le indicamos a R desde que valor iniciar la secuencia</li>
<li>to: es el valor máximo que puede tomar la secuncia</li>
<li>by: indica la longitud del intervalo entre los elementos</li>
</ul>
<p>Tambien se puede armar un vector de la siguiente manera:</p>
<p><code>{r}  a&lt;-c(1:4) #Es lo mismo que escribir c(1,2,3,4)}</code></p>
<p>Se pueden crear vectores de carcateres. Debería notar que los nombres vector aparecen en su entorno global. También puede notar que el panel del entorno global le brinda información adicional sobre este vector a la derecha de su nombre. Específicamente, debería ver chr [1:4] “Carlos”,“Luisa”,“Bruno”,“Ana”</p>
<p><code>{r} # Ejemplo de vector con nombres nombres &lt;- c("Carlos","Luisa","Bruno","Ana")  # Imprimir resultado nombres}</code></p>
<section id="operaciones-básicas-con-vectores" class="level3">
<h3 class="anchored" data-anchor-id="operaciones-básicas-con-vectores">Operaciones básicas con vectores</h3>
<p>Dado un vector podemos estar interesados en obtener datos sobre su contenido y que de algún modo lo resuma. Si queremos conocer medidas estadísticas de los elementos del vector tenemos las siguientes funciones:</p>
<ul>
<li>length: nos retorna un valor que indica la longitud (cantidad de elementos) del vector</li>
<li>sum: nos devuelve un valor con la suma de los elementos</li>
<li>mean: nos dice la media de los elementos del vector</li>
<li>sd: no retorna un valor indicando el desvío estandar</li>
<li>median: no devuelve la mediana</li>
</ul>
<p><code>{r} a&lt;-c(1:5)   #creamos un vector para analizar estadísticas  length(a)   #Nos dice la longitud (cantidad de elementos) de un vector sum(a)      #suma todos los elementos del vector mean(a)     #nos dice la media de los elementos del vector sd(a)       #nos dice el desvío median(a)   #...la mediana}</code></p>
</section>
<section id="tipos-de-vectores" class="level3">
<h3 class="anchored" data-anchor-id="tipos-de-vectores">Tipos de vectores</h3>
<p>Existen varios tipos de vectores diferentes , pero cada vector puede tener solo un tipo. El tipo del vector anterior era carácter. Podemos validarlo con la typeof()función de la siguiente manera:</p>
<p><code>{r} typeof(nombres)}</code></p>
<ul>
<li><p>Vectores de caracter</p></li>
<li><p>vectores dobles contienen números reales</p></li>
<li><p>vectores enteros contienen números enteros</p></li>
<li><p>vectores numéricos</p></li>
<li><p>vectores lógicos (Verdaddero y Falso)</p></li>
</ul>
</section>
</section>
<section id="factores" class="level2">
<h2 class="anchored" data-anchor-id="factores">Factores</h2>
<p>Los factores son más útiles en el contexto de trabajar con datos categóricos: datos que se agrupan en categorías discretas. Algunos ejemplos de variables categóricas que se ven comúnmente en los datos de salud pública son el sexo y el nivel de logro educativo.</p>
<p>Se verá con un ejemplo:</p>
<p>En R, podemos representar una variable categórica de varias maneras diferentes. Por ejemplo, supongamos que nos interesa registrar el nivel más alto de educación formal que han completado las personas en nuestros datos. Las categorías discretas que nos interesan son:</p>
<p>1 = Menos que la secundaria</p>
<p>2 = Graduado de secundaria</p>
<p>3 = Un poco de universidad</p>
<p>4 = Graduado universitario</p>
<p>Normalmente, no creamos factores desde cero. En su lugar, normalmente convertimos (o “forzamos”) un vector numérico o de caracteres existente en un factor. Por ejemplo, podemos forzar education_numun factor de la siguiente manera:</p>
<p><code>{r}  # Creo un vestor con los numeros correspondientes a las categorias de educación educacion_num &lt;- c(3, 1, 4, 1) educacion_num  # Convierto el vector en factor educacion_num_f &lt;- factor(   x      = educacion_num,   levels = 1:4,   labels = c(     "Menos que la secundaria", "Graduado de secundaria", "Un poco de universidad",      "Graduado universitario"   ) ) educacion_num_f}</code></p>
<p>El primer argumento de la factor() función es el x argumento. El valor que se pasa al xargumento debe ser un vector de datos. Pasamos el education_numvector al xargumento.</p>
<p>El segundo argumento de la factor() función es el levels argumento. Este argumento le indica a R los valores únicos que puede tomar la nueva variable factorial. Usamos la abreviatura 1:4para indicarle a R que education_num_fpuede tomar los valores únicos 1, 2, 3 o 4.</p>
<p>El tercer argumento de la factor() función es el labels argumento. El valor que se pasa al labels argumento debe ser un vector de caracteres de etiquetas (es decir, texto descriptivo) para cada valor del level sargumento. El orden de las etiquetas en el vector de caracteres que pasamos al labels argumento debe coincidir con el orden de los valores que se pasan al levels argumento. Por ejemplo, el orden de levels y labels superior indica a R que 1 debe etiquetarse con “Menor que la escuela secundaria”, 2 debe etiquetarse con “Graduado de la escuela secundaria”, etc.</p>
<p><strong>Características de los Factores</strong></p>
<ul>
<li><p><em>Categorías o Niveles</em>: Los factores representan datos categóricos y tienen un conjunto de niveles únicos. Por ejemplo, un factor que representa el género puede tener los niveles “Masculino” y “Femenino”.</p></li>
<li><p><em>Codificación Interna</em>: Internamente, R almacena los factores como enteros, donde cada nivel se asocia con un número entero. Por ejemplo, en un factor con niveles “Rojo”, “Verde”, “Azul”, R puede almacenar “Rojo” como 1, “Verde” como 2, y “Azul” como 3.</p></li>
<li><p><em>Ordenamiento</em>: Los factores pueden ser ordenados o no ordenados. Un factor ordenado tiene un orden específico en sus niveles (por ejemplo, “Bajo”, “Medio”, “Alto”), mientras que un factor no ordenado no tiene un orden inherente en sus niveles.</p></li>
</ul>
</section>
<section id="data-frames-o-marco-de-datos" class="level2">
<h2 class="anchored" data-anchor-id="data-frames-o-marco-de-datos">Data Frames o Marco de datos</h2>
<p>Un Data Frame es un objeto similar a las matrices ya que almacena los datos en formato de filas y columnas y puede almacenar diferentes clases de valores. Por ejemplo, en una columna podemos almacenar números, en otra caracteres, en otra fechas y en otras valores lógicos.</p>
<p>Para crear un data frame podemos emplear la función data.frame().</p>
<p><code>{r} #crear un DF a partir de vectores x &lt;- c(1,2,3,4,5)#creamos un vector de números y &lt;- c("A", "B", "C", "D", "E")#generamos un vector de letras df &lt;- data.frame(numeros = x, letras = y) #Generamos un DF con ambos vectores  df}</code></p>
<p>Datos que puedo tomar de mi data frame</p>
<p><code>{r} nrow(df)#nos dice el numero de filas del DF  ncol(df)#nos dice la cantidad de columnas de DF  dim(df)# nos devuelve un vector con los valores filas y columnas de DF  colnames(df)#nos dice los nombres de las columnas del DF  rownames(df)#nos dice los nombres de las columnas de DF  names(df)}</code></p>
</section>
<section id="funciones" class="level2">
<h2 class="anchored" data-anchor-id="funciones">Funciones</h2>
<p>Una función en R es un bloque de código reutilizable que realiza una tarea específica. Las funciones en R son fundamentales porque permiten organizar el código en partes manejables, evitando la repetición y facilitando su mantenimiento.</p>
<section id="componentes-de-una-funcion-en-r" class="level4">
<h4 class="anchored" data-anchor-id="componentes-de-una-funcion-en-r">componentes de una Función en R:</h4>
<ul>
<li><p>Nombre de la función: Es cómo llamas a la función.</p></li>
<li><p>Argumentos: Son los valores de entrada que la función toma. Estos pueden ser opcionales o requeridos.</p></li>
<li><p>Cuerpo de la función: Es el código que define lo que la función hace.</p></li>
<li><p>Valor de retorno: Es el resultado que la función devuelve después de ejecutar su código.</p></li>
</ul>
<p><code>{r}  secuencia &lt;-  seq(from = 2, to = 100, by = 2)  secuencia}</code></p>
<p>seq(): es la función from, toy by: son los argumentos 2, 100, 2: son valores que se pasan a los argumentos secuencia: es el resultado</p>
<p><strong>Argumentos</strong></p>
<ul>
<li>from: le indicamos a R desde que valor iniciar la secuencia</li>
<li>to: es el valor máximo que puede tomar la secuncia</li>
<li>by: indica la longitud del intervalo entre los elementos</li>
</ul>
<p>Como acotación al margen, podemos ver la documentación de cualquier función escribiendo ?function en la consola R y luego presionando la tecla Enter/Return. Por ejemplo, podemos escribir ?seq para ver la documentación de la seq()función.</p>
<p><code>{r}  ?seq}</code></p>
</section>
</section>
</section>
<section id="instalacion-de-paquetes" class="level1">
<h1>Instalación de paquetes</h1>
<p>Un paquete en R es una colección de funciones, datos, y documentación que extiende las capacidades básicas de R. Para utilizar un paquete en R, primero debes instalarlo y luego cargarlo en tu sesión de R.</p>
<p>Puedes instalar un paquete desde CRAN (Comprehensive R Archive Network) usando la función install.packages()</p>
<p>“<code>dplyr</code>” es un paquete conocido para la gestión de datos:</p>
<p><code>{r} # Para probar el código quitar el hashtag  #install.packages("dplyr")}</code></p>
<p>Paquetes que usaremos para los informes:</p>
<section id="tidyverse" class="level3">
<h3 class="anchored" data-anchor-id="tidyverse">Tidyverse</h3>
<p>Descripción: Una colección de paquetes que comparten una filosofía de diseño, gramática de datos y estructuras de datos subyacentes. Incluye paquetes como ggplot2, dplyr, tidyr, readr, purrr, y tibble.</p>
<p>Funcionalidades: Manipulación de datos (dplyr), visualización (ggplot2), limpieza de datos (tidyr), importación de datos (readr), entre otros.</p>
<p>Instalación: install.packages(“tidyverse”)</p>
</section>
<section id="data.table" class="level3">
<h3 class="anchored" data-anchor-id="data.table">data.table</h3>
<p>Descripción: Un paquete para la manipulación rápida y eficiente de grandes conjuntos de datos.</p>
<p>Funcionalidades: Operaciones de filtrado, agrupamiento, y agregación de datos. Es especialmente útil para grandes volúmenes de datos por su velocidad.</p>
<p>Instalación: install.packages(“data.table”)</p>
</section>
<section id="lubridate" class="level3">
<h3 class="anchored" data-anchor-id="lubridate">lubridate</h3>
<p>Descripción: Facilita la manipulación y operación de datos de tipo fecha y hora. Funcionalidades: Parsing de fechas, ajuste de zonas horarias, operaciones aritméticas con fechas.</p>
<p>Instalación: install.packages(“lubridate”)</p>
</section>
<section id="stringr" class="level3">
<h3 class="anchored" data-anchor-id="stringr">stringr</h3>
<p>Descripción: Parte del tidyverse, facilita la manipulación y análisis de cadenas de caracteres (strings).</p>
<p>Funcionalidades: Operaciones como concatenar, separar, buscar y reemplazar dentro de strings.</p>
<p>Instalación: install.packages(“stringr”)</p>
</section>
<section id="readxl-y-writexl" class="level3">
<h3 class="anchored" data-anchor-id="readxl-y-writexl">readxl y writexl</h3>
<p>Descripción: Paquetes para leer y escribir archivos Excel.</p>
<p>Funcionalidades: readxl permite leer datos de hojas de cálculo de Excel (.xls y .xlsx), y writexl permite escribir data frames de R a archivos Excel.</p>
<p>Instalación: install.packages(“readxl”) install.packages(“writexl”)</p>
</section>
<section id="googlesheets4" class="level3">
<h3 class="anchored" data-anchor-id="googlesheets4">googlesheets4</h3>
<p>Este paquete en R es una herramienta que facilita la interacción con Google Sheets desde R. Está diseñado para leer, escribir y modificar hojas de cálculo almacenadas en Google Drive, usando la API de Google Sheets.</p>
</section>
<section id="ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="ggplot2">ggplot2</h3>
<p>Descripción: Paquete de visualización de datos parte del tidyverse.</p>
<p>Funcionalidades: Creación de gráficos de alta calidad basados en una gramática de gráficos.</p>
<p>Instalación: install.packages(“ggplot2”) (aunque ya viene incluido con tidyverse).</p>
</section>
<section id="librerias" class="level2">
<h2 class="anchored" data-anchor-id="librerias">Librerias</h2>
<p>Cada vez que abra RStudio, tendrá que indicarle explícitamente a R qué paquetes desea utilizar. Por lo tanto, cuando cierre RStudio y lo vuelva a abrir, las únicas funciones que podrá utilizar son las funciones de Base R. Si desea utilizar funciones de cualquier otro paquete (por ejemplo, dplyr), deberá indicarle a R que desea hacerlo utilizando la library()función.</p>
<p><code>{r} library(dplyr)}</code></p>
</section>
</section>
<section id="data-frame-y-tibble" class="level1">
<h1>Data Frame y Tibble</h1>
<p>Cuando queremos crear relaciones entre nuestros vectores, podemos utilizarlos para construir un marco de datos. Por ejemplo para almacernar vercotres de distintas caracterististicas (numericos y de carcateres por ejemplo)</p>
<p><code>{r}  # Creo el vector de nombres   nombres   = c("Carlos", "Luisa", "Bruno", "Ana")   # Creo el vector de peso  peso = c(68, 63, 71, 72)    # Combino ambos en un data frame  clase &lt;-  data.frame (nombres, peso)    #Imprimo el data frame  clase}</code></p>
<p>Cuando corremos este código el marco de datos aparece en su entorno global. Aquí le brinda información adicional sobre este marco de datos a la derecha de su nombre. Específicamente, debería ver “4 obs. of 2 variables”. Esto es R diciéndonos que clase tiene cuatro filas u observaciones (4 obs.) y dos columnas o variables ( 2 variables). Si hace clic en la pequeña flecha azul a la izquierda del nombre del marco de datos, verá información sobre los vectores individuales que componen el marco de datos.</p>
<section id="advertencia" class="level4">
<h4 class="anchored" data-anchor-id="advertencia">Advertencia</h4>
<p>todas las columnas de un marco de datos deben tener la misma longitud (es decir, la misma cantidad de filas). Eso significa que cada vector que crees al crear tu marco de datos debe tener la misma cantidad de valores.</p>
<p>Podemos realizar un data frame con el siguiente código sintetizado y obtenemos el mismo resultado</p>
<p><code>{r}  clase &lt;- data.frame(   nombres   = c("Carlos", "Luisa", "Bruno", "Ana"),   peso = c(68, 63, 71, 72) )  clase}</code></p>
<p>Para retomar las funciones anteriores podemos tomar medidas de nuestro nuevo data frame. Por ejemplo la media.</p>
<p><code>{r} mean(clase$peso)}</code></p>
<p>Además podemos obtener información de este data frame</p>
<p><code>{r} nrow(clase)#nos dice el numero de filas del DF ncol(clase)#nos dice la cantidad de columnas de DF  dim(clase)# nos devuelve un vector con los valores filas y columnas de DF  colnames(clase)#nos dice los nombres de las columnas del DF rownames(clase)#nos dice los nombres de las columnas de DF}</code></p>
</section>
<section id="tibbles" class="level2">
<h2 class="anchored" data-anchor-id="tibbles">tibbles</h2>
<p>Los tibbles son una estructura de datos que proviene de otro paquete de tidyverse “tibble”: el paquete. Los tibbles son marcos de datos y cumplen la misma función en R que los marcos de datos; sin embargo, es una versión mejorada y puede encotrarse en algunos marcos de datos.</p>
<p>Para ello primero debe instalarse (si aun no se realizó) el paquete “dplyr”. Podemos entonces crear tibbles utilizando una de estas tres funciones: as_tibble(), tibble(), o tribble().</p>
<p><code>{r} # Para usar la libreria quitar el hashtag  #library(dplyr)}</code></p>
<section id="la-funcion-as_tibble" class="level4">
<h4 class="anchored" data-anchor-id="la-funcion-as_tibble">La función as_tibble</h4>
<p>Usamos la as_tibble() función para convertir un marco de datos básico ya existente en un tibble.</p>
<p><code>{r}  clase &lt;- as_tibble(clase)  clase}</code></p>
</section>
<section id="la-funcion-tibble" class="level4">
<h4 class="anchored" data-anchor-id="la-funcion-tibble">La función tibble</h4>
<p>Podemos utilizar la tibble()función en lugar de la data.frame()función cuando queremos crear un tibble desde cero. Tambien se puede usar tribble (ver en su documentación ?tribble)</p>
<p><code>{r}  clase_2 &lt;- tibble(    nombres   = c("Esteban", "Maria", "Rosa", "Fran"),   peso = c(45, 67, 80, 55) )    clase_2}</code></p>
</section>
</section>
<section id="datos-faltantes" class="level2">
<h2 class="anchored" data-anchor-id="datos-faltantes">Datos faltantes</h2>
<p>En R, representamos los datos faltantes con un NA. Se utiliza mayúsculas NA y no se utiliza espacios ni comillas. Es recomendable no utilizar “perdido” o “faltante”.</p>
<p><code>{r} # Crear un data frame  df &lt;- data.frame(   nombres   = c("Juan", "Susana", "Monica", "Lucas"),   peso = c(68, 63, 71, NA) # No tenemos el peso de Lucas )  df}</code></p>
</section>
</section>
<section id="uso-de-tuberías" class="level1">
<h1>Uso de tuberías</h1>
<p>|&gt; o %&gt;% Este operador hace que el código R sea más fácil de leer y comprender al permitirte ver tus funciones anidadas en el orden en que quieres que se ejecuten, en lugar de verlas literalmente anidadas una dentro de otra.</p>
<p>Las funciones devuelven valores y el lenguaje R nos permite pasar directamente esos valores devueltos a otras funciones para realizar cálculos posteriores, esto es “anidar funciones”. El código R puede volverse muy difícil de leer cuando empezamos a anidar muchas funciones unas dentro de otras.</p>
<p>Las tuberías nos permiten conservar los beneficios de anidar funciones sin hacer que nuestro código sea realmente difícil de leer.</p>
<p><code>{r} # Para utilizar la libreria quitar el hashtag # library(dplyr)  # Usar una tubería para filtrar, mutar, y ordenar los datos  df_limpio &lt;- df |&gt;   filter(!is.na(peso)) |&gt;      # Filtrar filas donde 'peso' no es NA   mutate(peso_kg = peso / 2.205) |&gt;  # Agregar una nueva columna que convierte 'peso' a kilogramos   arrange(desc(peso_kg))        # Ordenar los datos por 'peso_kg' en orden descendente  # Imprimir el resultado print(df_limpio)}</code></p>
<p><strong>Recomendaciones para la escritutura con tuberias:</strong></p>
<ul>
<li><p>utilizar tuberías de tal manera que cada línea de código hace una, y sólo una, cosa.</p></li>
<li><p>Si una línea de código contiene un operador de tubería, este generalmente debe ser lo último que se escriba en la línea.</p></li>
<li><p>El operador de la tubería siempre debe tener un espacio delante de la misma.</p></li>
<li><p>Si el operador de tubería no es lo último que se escribe en la línea, entonces también debería tener un espacio después.</p></li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>